{"ast":null,"code":"import { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/api\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/button\";\nimport * as i4 from \"primeng/ripple\";\nimport * as i5 from \"primeng/toast\";\nimport * as i6 from \"primeng/fileupload\";\nconst _c0 = [\"buttonEl\"];\nfunction UploaderComponent_ng_template_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"i\", 9);\n    i0.ɵɵelementStart(2, \"span\", 10);\n    i0.ɵɵtext(3, \"Upload Files\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 11);\n    i0.ɵɵtext(5, \"Drop or select files\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UploaderComponent_ng_template_4_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵlistener(\"mouseenter\", function UploaderComponent_ng_template_4_div_2_div_1_Template_div_mouseenter_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const file_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.onImageMouseOver(file_r5));\n    })(\"mouseleave\", function UploaderComponent_ng_template_4_div_2_div_1_Template_div_mouseleave_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const file_r5 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.onImageMouseLeave(file_r5));\n    });\n    i0.ɵɵelement(1, \"img\", 15);\n    i0.ɵɵelementStart(2, \"button\", 16, 17);\n    i0.ɵɵlistener(\"click\", function UploaderComponent_ng_template_4_div_2_div_1_Template_button_click_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const file_r5 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.removeImage($event, file_r5));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", file_r5.objectURL, i0.ɵɵsanitizeUrl)(\"alt\", file_r5.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", file_r5.name);\n  }\n}\nfunction UploaderComponent_ng_template_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, UploaderComponent_ng_template_4_div_2_div_1_Template, 4, 3, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.uploadedFiles);\n  }\n}\nfunction UploaderComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function UploaderComponent_ng_template_4_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(3);\n      return i0.ɵɵresetView(_r0.advancedFileInput.nativeElement.click());\n    });\n    i0.ɵɵtemplate(1, UploaderComponent_ng_template_4_div_1_Template, 6, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, UploaderComponent_ng_template_4_div_2_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.uploadedFiles.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.uploadedFiles.length);\n  }\n}\nexport class UploaderComponent {\n  constructor(messageService) {\n    this.messageService = messageService;\n    this.uploadedFiles = [];\n  }\n  onUpload(event) {\n    for (let file of event.files) {\n      this.uploadedFiles.push(file);\n    }\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Success',\n      detail: 'File uploaded successfully'\n    });\n  }\n  onImageMouseOver(file) {\n    this.buttonEl.toArray().forEach(el => {\n      el.nativeElement.id === file.name ? el.nativeElement.style.display = 'flex' : null;\n    });\n  }\n  onImageMouseLeave(file) {\n    this.buttonEl.toArray().forEach(el => {\n      el.nativeElement.id === file.name ? el.nativeElement.style.display = 'none' : null;\n    });\n  }\n  removeImage(event, file) {\n    event.stopPropagation();\n    this.uploadedFiles = this.uploadedFiles.filter(i => i !== file);\n  }\n}\nUploaderComponent.ɵfac = function UploaderComponent_Factory(t) {\n  return new (t || UploaderComponent)(i0.ɵɵdirectiveInject(i1.MessageService));\n};\nUploaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UploaderComponent,\n  selectors: [[\"app-file-uploader\"]],\n  viewQuery: function UploaderComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.buttonEl = _t);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([MessageService])],\n  decls: 5,\n  vars: 5,\n  consts: [[\"key\", \"fu\"], [1, \"card\"], [\"name\", \"demo[]\", \"url\", \"./upload.php\", \"accept\", \"image/*\", 1, \"w-full\", 3, \"customUpload\", \"multiple\", \"showUploadButton\", \"showCancelButton\", \"auto\", \"onUpload\", \"onSelect\"], [\"fileUploader\", \"\"], [\"pTemplate\", \"content\"], [1, \"w-full\", \"py-3\", 2, \"cursor\", \"copy\", 3, \"click\"], [\"class\", \"h-full flex flex-column justify-content-center align-items-center\", 4, \"ngIf\"], [\"class\", \"flex flex-wrap gap-5\", 4, \"ngIf\"], [1, \"h-full\", \"flex\", \"flex-column\", \"justify-content-center\", \"align-items-center\"], [1, \"pi\", \"pi-upload\", \"text-900\", \"text-2xl\", \"mb-3\"], [1, \"font-bold\", \"text-900\", \"text-xl\", \"mb-3\"], [1, \"font-medium\", \"text-600\", \"text-md\", \"text-center\"], [1, \"flex\", \"flex-wrap\", \"gap-5\"], [\"class\", \"h-full relative w-7rem h-7rem border-3 border-transparent border-round hover:bg-primary transition-duration-100 cursor-auto\", \"style\", \"padding: 1px;\", 3, \"mouseenter\", \"mouseleave\", 4, \"ngFor\", \"ngForOf\"], [1, \"h-full\", \"relative\", \"w-7rem\", \"h-7rem\", \"border-3\", \"border-transparent\", \"border-round\", \"hover:bg-primary\", \"transition-duration-100\", \"cursor-auto\", 2, \"padding\", \"1px\", 3, \"mouseenter\", \"mouseleave\"], [1, \"w-full\", \"h-full\", \"border-round\", \"shadow-2\", 3, \"src\", \"alt\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-times\", 1, \"p-button-rounded\", \"p-button-primary\", \"text-sm\", \"absolute\", \"justify-content-center\", \"align-items-center\", \"cursor-pointer\", 2, \"top\", \"-10px\", \"right\", \"-10px\", \"display\", \"none\", 3, \"id\", \"click\"], [\"buttonEl\", \"\"]],\n  template: function UploaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"p-toast\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"p-fileUpload\", 2, 3);\n      i0.ɵɵlistener(\"onUpload\", function UploaderComponent_Template_p_fileUpload_onUpload_2_listener($event) {\n        return ctx.onUpload($event);\n      })(\"onSelect\", function UploaderComponent_Template_p_fileUpload_onSelect_2_listener($event) {\n        return ctx.onUpload($event);\n      });\n      i0.ɵɵtemplate(4, UploaderComponent_ng_template_4_Template, 3, 2, \"ng-template\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"customUpload\", true)(\"multiple\", true)(\"showUploadButton\", true)(\"showCancelButton\", false)(\"auto\", true);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ButtonDirective, i4.Ripple, i5.Toast, i1.PrimeTemplate, i6.FileUpload],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,cAAc,QAAQ,aAAa;;;;;;;;;;;ICM5BC,8BAA6G;IACzGA,uBAAmD;IACnDA,gCAA8C;IAAAA,4BAAY;IAAAA,iBAAO;IACjEA,gCAAuD;IAAAA,oCAAoB;IAAAA,iBAAO;;;;;;IAGlFA,+BAA+R;IAAnGA;MAAA;MAAA;MAAA;MAAA,OAAcA,+CAAsB;IAAA,EAAC;MAAA;MAAA;MAAA;MAAA,OAAeA,iDAAuB;IAAA,EAAtC;IAC7NA,0BAA0F;IAC1FA,sCAA6R;IAApCA;MAAA;MAAA;MAAA;MAAA,OAASA,mDAAyB;IAAA,EAAC;IAACA,iBAAS;;;;IADjSA,eAAsB;IAAtBA,yDAAsB;IACnBA,eAAgB;IAAhBA,iCAAgB;;;;;IAHhCA,+BAA+D;IAC3DA,uFAGM;IACVA,iBAAM;;;;IAJoBA,eAAkB;IAAlBA,8CAAkB;;;;;;IAPhDA,8BAA6G;IAA/DA;MAAAA;MAAAA;MAAA;MAAA,OAASA,0DAAoD;IAAA,EAAC;IACxGA,gFAIM;IACNA,gFAKM;IACVA,iBAAM;;;;IAXIA,eAA2B;IAA3BA,mDAA2B;IAKEA,eAA0B;IAA1BA,kDAA0B;;;ADC7E,OAAM,MAAOC,iBAAiB;EAM1BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,kBAAa,GAAU,EAAE;EAI6B;EAEtDC,QAAQ,CAACC,KAAU;IACf,KAAK,IAAIC,IAAI,IAAID,KAAK,CAACE,KAAK,EAAE;MAC1B,IAAI,CAACC,aAAa,CAACC,IAAI,CAACH,IAAI,CAAC;;IAGjC,IAAI,CAACH,cAAc,CAACO,GAAG,CAAC;MAAEC,QAAQ,EAAE,SAAS;MAAEC,OAAO,EAAE,SAAS;MAAEC,MAAM,EAAE;IAA4B,CAAE,CAAC;EAC9G;EAEAC,gBAAgB,CAACR,IAAW;IACxB,IAAI,CAACS,QAAQ,CAACC,OAAO,EAAE,CAACC,OAAO,CAACC,EAAE,IAAG;MACjCA,EAAE,CAACC,aAAa,CAACC,EAAE,KAAKd,IAAI,CAACe,IAAI,GAAGH,EAAE,CAACC,aAAa,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM,GAAG,IAAI;IACtF,CAAC,CAAC;EACN;EAEAC,iBAAiB,CAAClB,IAAW;IACzB,IAAI,CAACS,QAAQ,CAACC,OAAO,EAAE,CAACC,OAAO,CAACC,EAAE,IAAG;MACjCA,EAAE,CAACC,aAAa,CAACC,EAAE,KAAKd,IAAI,CAACe,IAAI,GAAGH,EAAE,CAACC,aAAa,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM,GAAG,IAAI;IACtF,CAAC,CAAC;EACN;EAEAE,WAAW,CAACpB,KAAY,EAAEC,IAAS;IAC/BD,KAAK,CAACqB,eAAe,EAAE;IACvB,IAAI,CAAClB,aAAa,GAAG,IAAI,CAACA,aAAa,CAACmB,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKtB,IAAI,CAAC;EACnE;;;mBA/BSL,iBAAiB;AAAA;;QAAjBA,iBAAiB;EAAA4B;EAAAC;IAAA;;;;;;;;mCAFf,CAAC/B,cAAc,CAAC;EAAAgC;EAAAC;EAAAC;EAAAC;IAAA;MCX/BlC,6BAA4B;MAC5BA,8BAAkB;MACgEA;QAAA,OAAYmC,oBAAgB;MAAA,EAAC;QAAA,OACzEA,oBAAgB;MAAA,EADyD;MAGvGnC,kFAcc;MAClBA,iBAAe;;;MAlB6FA,eAAqB;MAArBA,mCAAqB","names":["MessageService","i0","UploaderComponent","constructor","messageService","onUpload","event","file","files","uploadedFiles","push","add","severity","summary","detail","onImageMouseOver","buttonEl","toArray","forEach","el","nativeElement","id","name","style","display","onImageMouseLeave","removeImage","stopPropagation","filter","i","selectors","viewQuery","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\UsuarioPrincipal\\Downloads\\verona-ng-15.0.1\\src\\app\\demo\\components\\apps\\file\\uploader\\uploader.component.ts","C:\\Users\\UsuarioPrincipal\\Downloads\\verona-ng-15.0.1\\src\\app\\demo\\components\\apps\\file\\uploader\\uploader.component.html"],"sourcesContent":["import { Component, ElementRef, QueryList, ViewChildren } from '@angular/core';\nimport { MessageService } from 'primeng/api';\n\ninterface Image {\n    name: string;\n    objectURL: string;\n}\n\n@Component({\n    selector: 'app-file-uploader',\n    templateUrl: './uploader.component.html',\n    providers: [MessageService]\n})\nexport class UploaderComponent {\n\n    uploadedFiles: any[] = [];\n\n    @ViewChildren('buttonEl') buttonEl!: QueryList<ElementRef>;\n\n    constructor(private messageService: MessageService) { }\n\n    onUpload(event: any) {\n        for (let file of event.files) {\n            this.uploadedFiles.push(file);\n        }\n\n        this.messageService.add({ severity: 'success', summary: 'Success', detail: 'File uploaded successfully' });\n    }\n\n    onImageMouseOver(file: Image) {\n        this.buttonEl.toArray().forEach(el => {\n            el.nativeElement.id === file.name ? el.nativeElement.style.display = 'flex' : null;\n        })\n    }\n\n    onImageMouseLeave(file: Image) {\n        this.buttonEl.toArray().forEach(el => {\n            el.nativeElement.id === file.name ? el.nativeElement.style.display = 'none' : null;\n        })\n    }\n\n    removeImage(event: Event, file: any) {\n        event.stopPropagation();\n        this.uploadedFiles = this.uploadedFiles.filter(i => i !== file);\n    }\n\n}","<p-toast key=\"fu\"></p-toast>\n<div class=\"card\">\n    <p-fileUpload #fileUploader name=\"demo[]\" url=\"./upload.php\" accept=\"image/*\" (onUpload)=\"onUpload($event)\" [customUpload]=\"true\"\n        [multiple]=\"true\" (onSelect)=\"onUpload($event)\" [showUploadButton]=\"true\"\n        [showCancelButton]=\"false\" [auto]=\"true\" class=\"w-full\">\n        <ng-template pTemplate=\"content\">\n            <div class=\"w-full py-3\" style=\"cursor: copy\" (click)=\"fileUploader.advancedFileInput.nativeElement.click()\">\n                <div *ngIf=\"!uploadedFiles.length\" class=\"h-full flex flex-column justify-content-center align-items-center\">\n                    <i class=\"pi pi-upload text-900 text-2xl mb-3\"></i>\n                    <span class=\"font-bold text-900 text-xl mb-3\">Upload Files</span>\n                    <span class=\"font-medium text-600 text-md text-center\">Drop or select files</span>\n                </div>\n                <div class=\"flex flex-wrap gap-5\" *ngIf=\"uploadedFiles.length\">\n                    <div *ngFor=\"let file of uploadedFiles; let i = index;\" class=\"h-full relative w-7rem h-7rem border-3 border-transparent border-round hover:bg-primary transition-duration-100 cursor-auto\" (mouseenter)=\"onImageMouseOver(file)\" (mouseleave)=\"onImageMouseLeave(file)\" style=\"padding: 1px;\">\n                        <img [src]=\"file.objectURL\" [alt]=\"file.name\" class=\"w-full h-full border-round shadow-2\">\n                        <button [id]=\"file.name\" #buttonEl pButton pRipple type=\"button\" icon=\"pi pi-times\" class=\"p-button-rounded p-button-primary text-sm absolute justify-content-center align-items-center cursor-pointer\" style=\"top: -10px; right: -10px; display: none;\" (click)=\"removeImage($event, file)\"></button>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n    </p-fileUpload>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}