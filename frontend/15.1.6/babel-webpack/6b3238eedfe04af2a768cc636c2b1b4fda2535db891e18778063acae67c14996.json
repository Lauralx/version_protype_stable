{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/demo/components/apps/mail/service/mail.service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/menu\";\nimport * as i6 from \"primeng/tooltip\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/ripple\";\nimport * as i9 from \"primeng/table\";\nimport * as i10 from \"primeng/inputtext\";\nimport * as i11 from \"primeng/avatar\";\nimport * as i12 from \"primeng/dialog\";\nimport * as i13 from \"../mail-reply/mail-reply.component\";\nfunction MailTableComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"p-tableHeaderCheckbox\")(3, \"button\", 8);\n    i0.ɵɵelementStart(4, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_2_Template_button_click_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const _r3 = i0.ɵɵreference(6);\n      return i0.ɵɵresetView(_r3.toggle($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p-menu\", 10, 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 12);\n    i0.ɵɵelement(8, \"i\", 13);\n    i0.ɵɵelementStart(9, \"input\", 14);\n    i0.ɵɵlistener(\"input\", function MailTableComponent_ng_template_2_Template_input_input_9_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r6.onGlobalFilter(_r0, $event));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"model\", ctx_r1.menuItems)(\"appendTo\", _r0)(\"popup\", true);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"pi-star-fill\": a0,\n    \"pi-star\": a1\n  };\n};\nfunction MailTableComponent_ng_template_3_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 33)(1, \"span\", 34);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_td_3_Template_span_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const mail_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onStar($event, mail_r7.id));\n    })(\"touchend\", function MailTableComponent_ng_template_3_td_3_Template_span_touchend_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const mail_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onStar($event, mail_r7.id));\n    });\n    i0.ɵɵelement(2, \"i\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const mail_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c0, mail_r7.starred, !mail_r7.starred));\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"pi-bookmark-fill\": a0,\n    \"pi-bookmark\": a1\n  };\n};\nfunction MailTableComponent_ng_template_3_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 33)(1, \"span\", 34);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_td_4_Template_span_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const mail_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onBookmark($event, mail_r7.id));\n    })(\"touchend\", function MailTableComponent_ng_template_3_td_4_Template_span_touchend_1_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const mail_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.onBookmark($event, mail_r7.id));\n    });\n    i0.ɵɵelement(2, \"i\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const mail_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c1, mail_r7.important, !mail_r7.important));\n  }\n}\nfunction MailTableComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 15);\n    i0.ɵɵlistener(\"mouseenter\", function MailTableComponent_ng_template_3_Template_tr_mouseenter_0_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const _r11 = i0.ɵɵreference(18);\n      const _r10 = i0.ɵɵreference(15);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.toggleOptions($event, _r11, _r10));\n    })(\"mouseleave\", function MailTableComponent_ng_template_3_Template_tr_mouseleave_0_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const _r11 = i0.ɵɵreference(18);\n      const _r10 = i0.ɵɵreference(15);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.toggleOptions($event, _r11, _r10));\n    })(\"click\", function MailTableComponent_ng_template_3_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const mail_r7 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.onRowSelect(mail_r7.id));\n    });\n    i0.ɵɵelementStart(1, \"td\", 16)(2, \"p-tableCheckbox\", 17);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_Template_p_tableCheckbox_click_2_listener($event) {\n      return $event.stopPropagation();\n    })(\"touchend\", function MailTableComponent_ng_template_3_Template_p_tableCheckbox_touchend_2_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(3, MailTableComponent_ng_template_3_td_3_Template, 3, 4, \"td\", 18);\n    i0.ɵɵtemplate(4, MailTableComponent_ng_template_3_td_4_Template, 3, 4, \"td\", 18);\n    i0.ɵɵelementStart(5, \"td\", 19);\n    i0.ɵɵelement(6, \"p-avatar\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 21);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 22)(10, \"span\", 23);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 24)(13, \"div\", 25)(14, \"span\", 26, 27);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 28, 29)(19, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_Template_button_click_19_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const mail_r7 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.onArchive($event, mail_r7.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_Template_button_click_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const mail_r7 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onReply($event, mail_r7));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function MailTableComponent_ng_template_3_Template_button_click_21_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const mail_r7 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onTrash($event, mail_r7));\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const mail_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", mail_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !mail_r7.trash && !mail_r7.spam);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !mail_r7.trash && !mail_r7.spam);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"image\", mail_r7.image ? \"assets/demo/images/avatar/\" + mail_r7.image : \"assets/demo/images/avatar/amyelsner.png\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", mail_r7.from || mail_r7.to, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", mail_r7.title, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", mail_r7.date, \" \");\n  }\n}\nconst _c2 = function () {\n  return [\"from\", \"title\", \"message\"];\n};\nconst _c3 = function () {\n  return [10, 20, 30];\n};\nexport class MailTableComponent {\n  constructor(router, mailService, messageService) {\n    this.router = router;\n    this.mailService = mailService;\n    this.messageService = messageService;\n    this.menuItems = [];\n    this.selectedMails = [];\n    this.mail = {};\n    this.dialogVisible = false;\n  }\n  ngOnInit() {\n    this.menuItems = [{\n      label: 'Archive',\n      icon: 'pi pi-fw pi-file',\n      command: () => this.onArchiveMultiple()\n    }, {\n      label: 'Spam',\n      icon: 'pi pi-fw pi-ban',\n      command: () => this.onSpamMultiple()\n    }, {\n      label: 'Delete',\n      icon: 'pi pi-fw pi-trash',\n      command: () => this.onDeleteMultiple()\n    }];\n  }\n  toggleOptions(event, opt, date) {\n    if (event.type === 'mouseenter') {\n      opt.style.display = 'flex';\n      date.style.display = 'none';\n    } else {\n      opt.style.display = 'none';\n      date.style.display = 'flex';\n    }\n  }\n  onRowSelect(id) {\n    this.router.navigate(['/apps/mail/detail/', id]);\n  }\n  onStar(event, id) {\n    event.stopPropagation();\n    this.mailService.onStar(id);\n  }\n  onArchive(event, id) {\n    event.stopPropagation();\n    this.mailService.onArchive(id);\n    this.messageService.add({\n      severity: 'info',\n      summary: 'Info',\n      detail: 'Mail archived',\n      life: 3000\n    });\n  }\n  onBookmark(event, id) {\n    event.stopPropagation();\n    this.mailService.onBookmark(id);\n  }\n  onDelete(id) {\n    this.mailService.onDelete(id);\n    this.messageService.add({\n      severity: 'info',\n      summary: 'Info',\n      detail: 'Mail deleted',\n      life: 3000\n    });\n  }\n  onDeleteMultiple() {\n    if (this.selectedMails && this.selectedMails.length > 0) {\n      this.mailService.onDeleteMultiple(this.selectedMails);\n      this.messageService.add({\n        severity: 'info',\n        summary: 'Info',\n        detail: 'Mails deleted',\n        life: 3000\n      });\n    }\n  }\n  onSpamMultiple() {\n    if (this.selectedMails && this.selectedMails.length > 0) {\n      this.mailService.onSpamMultiple(this.selectedMails);\n      this.messageService.add({\n        severity: 'info',\n        summary: 'Info',\n        detail: 'Moved to spam',\n        life: 3000\n      });\n    }\n  }\n  onArchiveMultiple() {\n    if (this.selectedMails && this.selectedMails.length > 0) {\n      this.mailService.onArchiveMultiple(this.selectedMails);\n      this.messageService.add({\n        severity: 'info',\n        summary: 'Info',\n        detail: 'Moved to archive',\n        life: 3000\n      });\n    }\n  }\n  onTrash(event, mail) {\n    event.stopPropagation();\n    if (mail.trash) {\n      this.onDelete(mail.id);\n    }\n    this.mailService.onTrash(mail.id);\n  }\n  onReply(event, mail) {\n    event.stopPropagation();\n    this.mail = mail;\n    this.dialogVisible = true;\n  }\n  onGlobalFilter(table, event) {\n    table.filterGlobal(event.target.value, 'contains');\n  }\n}\nMailTableComponent.ɵfac = function MailTableComponent_Factory(t) {\n  return new (t || MailTableComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MailService), i0.ɵɵdirectiveInject(i3.MessageService));\n};\nMailTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MailTableComponent,\n  selectors: [[\"app-mail-table\"]],\n  inputs: {\n    mails: \"mails\"\n  },\n  decls: 6,\n  vars: 13,\n  consts: [[\"responsiveLayout\", \"scroll\", \"selectionMode\", \"multiple\", \"dataKey\", \"id\", 3, \"value\", \"rows\", \"globalFilterFields\", \"paginator\", \"rowsPerPageOptions\", \"selection\", \"rowHover\", \"selectionChange\"], [\"dt\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"body\"], [\"header\", \"New Message\", \"styleClass\", \"mx-3 sm:mx-0 sm:w-full md:w-8 lg:w-6\", \"contentStyleClass\", \"border-round-bottom border-top-1 surface-border p-0\", 3, \"visible\", \"closable\", \"modal\", \"visibleChange\", \"onHide\"], [3, \"content\", \"hide\"], [1, \"flex\", \"flex-wrap\", \"align-items-center\", \"justify-content-between\", \"gap-3\"], [1, \"flex\", \"gap-2\", \"align-items-center\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-refresh\", 1, \"p-button-rounded\", \"p-button-text\", \"p-button-plain\", \"ml-4\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-ellipsis-v\", 1, \"p-button-rounded\", \"p-button-text\", \"p-button-plain\", \"ml-3\", 3, \"click\"], [3, \"model\", \"appendTo\", \"popup\"], [\"menu\", \"\"], [1, \"p-input-icon-left\"], [1, \"pi\", \"pi-search\"], [\"pInputText\", \"\", \"type\", \"text\", \"placeholder\", \"Search Mail\", 1, \"w-full\", \"sm:w-auto\", 3, \"input\"], [1, \"cursor-pointer\", 3, \"mouseenter\", \"mouseleave\", \"click\"], [1, \"pl-3\", 2, \"width\", \"4rem\"], [3, \"value\", \"click\", \"touchend\"], [\"style\", \"width: 4rem\", 4, \"ngIf\"], [2, \"min-width\", \"4rem\"], [3, \"image\"], [1, \"text-900\", \"font-semibold\", 2, \"min-width\", \"12rem\"], [2, \"min-width\", \"12rem\"], [1, \"font-medium\", \"white-space-nowrap\", \"overflow-hidden\", \"text-overflow-ellipsis\", \"block\", 2, \"max-width\", \"30rem\"], [2, \"min-width\", \"10rem\"], [1, \"flex\", \"justify-content-end\", \"w-full\", \"px-0\"], [1, \"text-700\", \"font-semibold\", \"white-space-nowrap\"], [\"date\", \"\"], [2, \"display\", \"none\"], [\"options\", \"\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-inbox\", \"pTooltip\", \"Archive\", \"tooltipPosition\", \"top\", \"type\", \"button\", 1, \"h-2rem\", \"w-2rem\", \"mr-2\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-reply\", \"pTooltip\", \"Reply\", \"tooltipPosition\", \"top\", \"type\", \"button\", 1, \"p-button-secondary\", \"h-2rem\", \"w-2rem\", \"mr-2\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-trash\", \"pTooltip\", \"Trash\", \"tooltipPosition\", \"top\", \"type\", \"button\", 1, \"p-button-danger\", \"h-2rem\", \"w-2rem\", 3, \"click\"], [2, \"width\", \"4rem\"], [1, \"cursor-pointer\", 3, \"click\", \"touchend\"], [1, \"pi\", \"pi-fw\", \"text-xl\", 3, \"ngClass\"]],\n  template: function MailTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0, 1);\n      i0.ɵɵlistener(\"selectionChange\", function MailTableComponent_Template_p_table_selectionChange_0_listener($event) {\n        return ctx.selectedMails = $event;\n      });\n      i0.ɵɵtemplate(2, MailTableComponent_ng_template_2_Template, 10, 3, \"ng-template\", 2);\n      i0.ɵɵtemplate(3, MailTableComponent_ng_template_3_Template, 22, 7, \"ng-template\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p-dialog\", 4);\n      i0.ɵɵlistener(\"visibleChange\", function MailTableComponent_Template_p_dialog_visibleChange_4_listener($event) {\n        return ctx.dialogVisible = $event;\n      })(\"onHide\", function MailTableComponent_Template_p_dialog_onHide_4_listener() {\n        return ctx.dialogVisible = false;\n      });\n      i0.ɵɵelementStart(5, \"app-mail-reply\", 5);\n      i0.ɵɵlistener(\"hide\", function MailTableComponent_Template_app_mail_reply_hide_5_listener() {\n        return ctx.dialogVisible = false;\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.mails)(\"rows\", 10)(\"globalFilterFields\", i0.ɵɵpureFunction0(11, _c2))(\"paginator\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(12, _c3))(\"selection\", ctx.selectedMails)(\"rowHover\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"visible\", ctx.dialogVisible)(\"closable\", true)(\"modal\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"content\", ctx.mail);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgIf, i5.Menu, i6.Tooltip, i7.ButtonDirective, i8.Ripple, i9.Table, i3.PrimeTemplate, i9.TableCheckbox, i9.TableHeaderCheckbox, i10.InputText, i11.Avatar, i12.Dialog, i13.MailReplyComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","$event","MailTableComponent","constructor","router","mailService","messageService","ngOnInit","menuItems","label","icon","command","onArchiveMultiple","onSpamMultiple","onDeleteMultiple","toggleOptions","event","opt","date","type","style","display","onRowSelect","id","navigate","onStar","stopPropagation","onArchive","add","severity","summary","detail","life","onBookmark","onDelete","selectedMails","length","onTrash","mail","trash","onReply","dialogVisible","onGlobalFilter","table","filterGlobal","target","value","selectors","inputs","mails","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\UsuarioPrincipal\\Downloads\\frontend_verona-ng-15.0.1\\src\\app\\demo\\components\\apps\\mail\\mail-table\\mail-table.component.html","C:\\Users\\UsuarioPrincipal\\Downloads\\frontend_verona-ng-15.0.1\\src\\app\\demo\\components\\apps\\mail\\mail-table\\mail-table.component.ts"],"sourcesContent":["<p-table #dt [value]=\"mails\" responsiveLayout=\"scroll\" [rows]=\"10\" [globalFilterFields]=\"['from','title','message']\" [paginator]=\"true\" [rowsPerPageOptions]=\"[10,20,30]\" [(selection)]=\"selectedMails\" selectionMode=\"multiple\" [rowHover]=\"true\" dataKey=\"id\">\n    <ng-template pTemplate=\"caption\">\n        <div class=\"flex flex-wrap align-items-center justify-content-between gap-3\">\n            <div class=\"flex gap-2 align-items-center\">\n                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\n                <button pButton pRipple type=\"button\" icon=\"pi pi-refresh\" class=\"p-button-rounded p-button-text p-button-plain ml-4\"></button>\n                <button pButton pRipple type=\"button\" icon=\"pi pi-ellipsis-v\" class=\"p-button-rounded p-button-text p-button-plain ml-3\" (click)=\"menu.toggle($event)\"></button>\n                <p-menu #menu [model]=\"menuItems\" [appendTo]=\"dt\" [popup]=\"true\"></p-menu>\n            </div>\n            \n            <span class=\"p-input-icon-left\">\n                <i class=\"pi pi-search\"></i>\n                <input pInputText type=\"text\" (input)=\"onGlobalFilter(dt, $event)\" placeholder=\"Search Mail\" class=\"w-full sm:w-auto\"/>\n            </span>\n        </div>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-mail>\n        <tr (mouseenter)=\"toggleOptions($event, options, date)\" (mouseleave)=\"toggleOptions($event, options, date)\" (click)=\"onRowSelect(mail.id)\" class=\"cursor-pointer\">\n            <td style=\"width: 4rem\" class=\"pl-3\">\n                <p-tableCheckbox [value]=\"mail\" (click)=\"$event.stopPropagation()\" (touchend)=\"$event.stopPropagation()\"></p-tableCheckbox>\n            </td>\n            <td *ngIf=\"!mail.trash && !mail.spam\" style=\"width: 4rem\">\n                <span (click)=\"onStar($event, mail.id)\" (touchend)=\"onStar($event, mail.id)\" class=\"cursor-pointer\">\n                    <i class=\"pi pi-fw text-xl\" [ngClass]=\"{'pi-star-fill': mail.starred, 'pi-star': !mail.starred}\"></i>\n                </span>\n            </td>\n            <td *ngIf=\"!mail.trash && !mail.spam\" style=\"width: 4rem\">\n                <span (click)=\"onBookmark($event, mail.id)\" (touchend)=\"onBookmark($event, mail.id)\" class=\"cursor-pointer\">\n                    <i class=\"pi pi-fw text-xl\" [ngClass]=\"{'pi-bookmark-fill': mail.important, 'pi-bookmark': !mail.important}\"></i>\n                </span>\n            </td>\n            <td style=\"min-width: 4rem\">\n                <p-avatar [image]=\"mail.image ? 'assets/demo/images/avatar/' + mail.image : 'assets/demo/images/avatar/amyelsner.png'\"></p-avatar>\n            </td>\n            <td style=\"min-width: 12rem\" class=\"text-900 font-semibold\">\n                {{mail.from || mail.to}}\n            </td>\n            <td style=\"min-width: 12rem\">\n                <span class=\"font-medium white-space-nowrap overflow-hidden text-overflow-ellipsis block\" style=\"max-width: 30rem\">\n                    {{mail.title}}\n                </span>\n            </td>\n            <td style=\"min-width: 10rem;\">\n                <div class=\"flex justify-content-end w-full px-0\">\n                    <span #date class=\"text-700 font-semibold white-space-nowrap\">\n                        {{mail.date}}\n                    </span>\n                    <div style=\"display: none\" #options>\n                        <button pButton pRipple icon=\"pi pi-inbox\" class=\"h-2rem w-2rem mr-2\" (click)=\"onArchive($event, mail.id)\" pTooltip=\"Archive\" tooltipPosition=\"top\" type=\"button\"></button>\n                        <button pButton pRipple icon=\"pi pi-reply\" class=\"p-button-secondary h-2rem w-2rem mr-2\" (click)=\"onReply($event, mail)\" pTooltip=\"Reply\" tooltipPosition=\"top\" type=\"button\"></button>\n                        <button pButton pRipple icon=\"pi pi-trash\" class=\"p-button-danger h-2rem w-2rem\" (click)=\"onTrash($event, mail)\" pTooltip=\"Trash\" tooltipPosition=\"top\" type=\"button\"></button>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </ng-template>\n</p-table>\n\n<p-dialog [(visible)]=\"dialogVisible\" (onHide)=\"dialogVisible = false\" [closable]=\"true\" header=\"New Message\" [modal]=\"true\" styleClass=\"mx-3 sm:mx-0 sm:w-full md:w-8 lg:w-6\" contentStyleClass=\"border-round-bottom border-top-1 surface-border p-0\">\n    <app-mail-reply [content]=\"mail\" (hide)=\"dialogVisible = false\"></app-mail-reply>\n</p-dialog>","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MenuItem, MessageService } from 'primeng/api';\nimport { Table } from 'primeng/table';\nimport { Mail } from 'src/app/demo/api/mail';\nimport { MailService } from 'src/app/demo/components/apps/mail/service/mail.service';\n\n@Component({\n    selector: 'app-mail-table',\n    templateUrl: './mail-table.component.html'\n})\nexport class MailTableComponent implements OnInit {\n\n    @Input() mails!: Mail[];\n\n    menuItems: MenuItem[] = [];\n\n    selectedMails: Mail[] = [];\n\n    mail: Mail = {};\n\n    dialogVisible: boolean = false;\n\n    constructor(private router: Router, private mailService: MailService, private messageService: MessageService) { }\n\n    ngOnInit(): void {\n\n        this.menuItems = [\n            { label: 'Archive', icon: 'pi pi-fw pi-file', command: () => this.onArchiveMultiple() },\n            { label: 'Spam', icon: 'pi pi-fw pi-ban', command: () => this.onSpamMultiple() },\n            { label: 'Delete', icon: 'pi pi-fw pi-trash', command: () => this.onDeleteMultiple() },\n        ];\n    }\n\n    toggleOptions(event: Event, opt: HTMLElement, date: HTMLElement) {\n        if (event.type === 'mouseenter') {\n            opt.style.display = 'flex';\n            date.style.display = 'none';\n        } else {\n            opt.style.display = 'none';\n            date.style.display = 'flex';\n        }\n    }\n\n    onRowSelect(id: number) {\n        this.router.navigate(['/apps/mail/detail/', id]);\n    }\n\n    onStar(event: Event, id: number) {\n        event.stopPropagation();\n        this.mailService.onStar(id);\n    }\n\n    onArchive(event: Event, id: number) {\n        event.stopPropagation();\n        this.mailService.onArchive(id);\n        this.messageService.add({ severity: 'info', summary: 'Info', detail: 'Mail archived', life: 3000 });\n    }\n\n    onBookmark(event: Event, id: number) {\n        event.stopPropagation();\n        this.mailService.onBookmark(id);\n    }\n\n    onDelete(id: number) {\n        this.mailService.onDelete(id);\n        this.messageService.add({ severity: 'info', summary: 'Info', detail: 'Mail deleted', life: 3000 });\n    }\n\n    onDeleteMultiple() {\n        if (this.selectedMails && this.selectedMails.length > 0) {\n            this.mailService.onDeleteMultiple(this.selectedMails);\n            this.messageService.add({ severity: 'info', summary: 'Info', detail: 'Mails deleted', life: 3000 });\n        }\n    }\n\n    onSpamMultiple() {\n        if (this.selectedMails && this.selectedMails.length > 0) {\n            this.mailService.onSpamMultiple(this.selectedMails);\n            this.messageService.add({ severity: 'info', summary: 'Info', detail: 'Moved to spam', life: 3000 });\n        }\n    }\n\n    onArchiveMultiple() {\n        if (this.selectedMails && this.selectedMails.length > 0) {\n            this.mailService.onArchiveMultiple(this.selectedMails);\n            this.messageService.add({ severity: 'info', summary: 'Info', detail: 'Moved to archive', life: 3000 });\n        }\n    }\n\n    onTrash(event: Event, mail: Mail) {\n        event.stopPropagation();\n        if (mail.trash) {\n            this.onDelete(mail.id)\n        }\n        this.mailService.onTrash(mail.id);\n    }\n\n    onReply(event: Event, mail: Mail) {\n        event.stopPropagation();\n        this.mail = mail;\n        this.dialogVisible = true;\n    }\n    \n    onGlobalFilter(table: Table, event: Event) {\n        table.filterGlobal((event.target as HTMLInputElement).value, 'contains');\n    }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}